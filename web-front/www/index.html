<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="colors.js"></script>
<script src="https://apis.google.com/js/platform.js" async defer></script>


<script>
    function checkLoginStatus(){
      var loginBtn = document.querySelector('#loginBtn');
      if(gauth.isSignedIn.get()){
        console.log('logined');
        loginBtn.value = 'Logout';
        location.href = 'first.html';
      } else {
        console.log('logouted');
        loginBtn.value = 'Login';
      }
    }
    function init(){
      console.log('init');
      gapi.load('auth2', function() {
        console.log('auth2');
        window.gauth = gapi.auth2.init({
            client_id:"461726182069-1b9fj8sjm9ejt6q88jildj91763vf05m.apps.googleusercontent.com"
        })
        gauth.then(function(){
            console.log('googleAuth success');
            checkLoginStatus();

     
        }, function(){
            console.log('googleAuth fail');
        });
    });
    }
  </script>
</head>
<body>
<h2> 22세기 사진관에 오신것을 환영합니다 </h2>

<input type="button" id="loginBtn" value="checking..." onclick="
if(this.value === 'Login'){
  gauth.signIn().then(function(){
    console.log('gauth.signIn()');
    checkLoginStatus();
  });
} else {
  gauth.signOut().then(function(){
    console.log('gauth.signOut()');
    checkLoginStatus();
  });
}
">




  
      
      <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
   
  
  </body>
  </html>